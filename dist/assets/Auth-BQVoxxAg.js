import{r as e,t as a,j as s,X as t}from"./vendor-react-Bu_1CUKu.js";import{q as r,B as i,L as o,I as l,s as n}from"./index-QnHMPHoX.js";import{T as d}from"./ThemeToggle-CoAAn6C_.js";import"./vendor-CaMlX_x-.js";import"./vendor-date-fns-BCWkNTJO.js";import"./dropdown-menu-cf7j1Lwd.js";function m(){const[m,c]=e.useState(!1),[x,h]=e.useState(""),[u,g]=e.useState(""),[p,b]=e.useState(""),[f,j]=e.useState(!1),{toast:v}=r(),y=a();return s.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#9b87f5] via-[#7E69AB] to-[#D6BCFA] flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx(d,{})}),s.jsxs("div",{className:"w-full max-w-xs sm:max-w-sm bg-white rounded-[32px] p-5 sm:p-6 relative mx-auto",children:[f&&s.jsx(i,{variant:"ghost",size:"icon",className:"absolute right-4 top-4 rounded-full hover:bg-gray-100",onClick:()=>j(!1),children:s.jsx(t,{className:"h-4 w-4"})}),s.jsxs("div",{className:"text-center mb-5 sm:mb-6",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:f?"Hello!":"Welcome"}),!f&&s.jsx("p",{className:"text-gray-500 text-sm",children:"Faça login para continuar"})]}),s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{if(f){const{error:e}=await n.auth.signUp({email:x,password:p,options:{data:{username:u}}});if(e)throw e;v({title:"Cadastro realizado!",description:"Verifique seu email para confirmar o cadastro."})}else{const{error:e}=await n.auth.signInWithPassword({email:x,password:p});if(e)throw e;y("/")}}catch(a){v({variant:"destructive",title:"Erro no "+(f?"cadastro":"login"),description:a.message})}finally{c(!1)}},className:"space-y-4",children:[f&&s.jsxs("div",{className:"space-y-1",children:[s.jsx(o,{htmlFor:"username",className:"text-sm text-gray-600",children:"Nome de usuário"}),s.jsx(l,{id:"username",type:"text",value:u,onChange:e=>g(e.target.value),required:f,className:"h-10 border-gray-200 rounded-xl bg-gray-50/50"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(o,{htmlFor:"email",className:"text-sm text-gray-600",children:"Email"}),s.jsx(l,{id:"email",type:"email",value:x,onChange:e=>h(e.target.value),required:!0,className:"h-10 border-gray-200 rounded-xl bg-gray-50/50"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(o,{htmlFor:"password",className:"text-sm text-gray-600",children:"Senha"}),s.jsx(l,{id:"password",type:"password",value:p,onChange:e=>b(e.target.value),required:!0,className:"h-10 border-gray-200 rounded-xl bg-gray-50/50"})]}),s.jsx(i,{type:"submit",className:"w-full h-10 text-sm font-semibold rounded-xl transition-transform hover:scale-[0.98] "+(f?"bg-[#9b87f5] hover:bg-[#8a74f4] text-white":"bg-white hover:bg-gray-50 text-[#9b87f5] border-2 border-[#9b87f5]"),disabled:m,children:m?"Carregando...":f?"Criar conta":"Login"}),!f&&s.jsx("div",{className:"text-center mt-3",children:s.jsx(i,{type:"button",variant:"ghost",className:"text-[#9b87f5] text-sm font-semibold hover:bg-[#9b87f5]/5",onClick:()=>j(!0),children:"Sign up"})})]})]})]})}export{m as default};
