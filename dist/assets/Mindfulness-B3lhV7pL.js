import{r as e,j as s,z as a,aI as r,aD as i,ar as t,aO as n,t as o,aF as l,c6 as c,c7 as d,bl as m,an as x,am as h,ak as u,bP as g,c8 as p,c9 as j,aw as N,ca as f,cb as v,cc as y,cd as b,X as w,aK as k,bG as C,ce as S,aN as A,bb as M,u as D,cf as z,cg as P,ch as L,y as R,ci as H}from"./vendor-react-Bu_1CUKu.js";import{B as E,K as F,S as T,d as q,e as _,f as I,g as V,J as B,T as O,o as K,D as $,j as U,k as G,l as J,m as Q,n as W}from"./index-QnHMPHoX.js";import{C as X,a as Y,g as Z,b as ee,h as se,T as ae,d as re,e as ie,f as te}from"./card-BnqYcvPQ.js";import{S as ne,P as oe}from"./skeleton-DzSR_xWs.js";import{R as le,O as ce,S as de,X as me,Y as xe,U as he,V as ue,W as ge,Z as pe}from"./vendor-CaMlX_x-.js";import{s as je,C as Ne,G as fe}from"./vendor-date-fns-BCWkNTJO.js";import{u as ve}from"./useMoodTracking-B0ZLuTFo.js";function ye({moodHistory:a,isLoading:r}){const[i,t]=e.useState("week"),[n,o]=e.useState([]);if(e.useEffect((()=>{if(0===a.length)return;const e="week"===i?7:30,s=Array.from({length:e},((s,a)=>{const r=je(new Date,e-a-1);return Ne(r,"yyyy-MM-dd")})).map((e=>({date:e,displayDate:Ne(new Date(e),"dd/MM",{locale:fe}),anxiety:null,anger:null,fatigue:null,sadness:null,vigor:null,happiness:null}))).map((e=>{const s=a.filter((s=>s.created_at&&Ne(new Date(s.created_at),"yyyy-MM-dd")===e.date)),r={...e};return["anxiety","anger","fatigue","sadness","vigor","happiness"].forEach((e=>{const a=s.filter((s=>s.mood_type===e));if(a.length>0){const s=a.reduce(((e,s)=>e+s.intensity),0)/a.length;r[e]=s}})),r}));o(s)}),[a,i]),r)return s.jsx(ne,{className:"w-full h-[300px]"});const l="#EAB308",c="#EF4444",d="#3B82F6",m="#6366F1",x="#22C55E",h="#EC4899";return s.jsxs(X,{children:[s.jsxs(Y,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Z,{children:"Histórico de Humor"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(E,{variant:"week"===i?"default":"outline",size:"sm",onClick:()=>t("week"),children:"Semana"}),s.jsx(E,{variant:"month"===i?"default":"outline",size:"sm",onClick:()=>t("month"),children:"Mês"})]})]}),s.jsx(ee,{children:0===a.length?s.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"Nenhum registro de humor encontrado."}),s.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Registre seu humor para visualizar o histórico."})]}):s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(le,{width:"100%",height:"100%",children:s.jsxs(ce,{data:n,margin:{top:5,right:5,left:0,bottom:5},children:[s.jsx(de,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(me,{dataKey:"displayDate",tick:{fontSize:12}}),s.jsx(xe,{domain:[0,10],tick:{fontSize:12},label:{value:"Intensidade",angle:-90,position:"insideLeft",style:{fontSize:"12px",textAnchor:"middle"}}}),s.jsx(he,{}),s.jsx(ue,{}),s.jsx(ge,{name:"Ansiedade",type:"monotone",dataKey:"anxiety",stroke:l,dot:{r:3},activeDot:{r:5},connectNulls:!0}),s.jsx(ge,{name:"Irritação",type:"monotone",dataKey:"anger",stroke:c,dot:{r:3},activeDot:{r:5},connectNulls:!0}),s.jsx(ge,{name:"Cansaço",type:"monotone",dataKey:"fatigue",stroke:d,dot:{r:3},activeDot:{r:5},connectNulls:!0}),s.jsx(ge,{name:"Tristeza",type:"monotone",dataKey:"sadness",stroke:m,dot:{r:3},activeDot:{r:5},connectNulls:!0}),s.jsx(ge,{name:"Vigor",type:"monotone",dataKey:"vigor",stroke:x,dot:{r:3},activeDot:{r:5},connectNulls:!0}),s.jsx(ge,{name:"Alegria",type:"monotone",dataKey:"happiness",stroke:h,dot:{r:3},activeDot:{r:5},connectNulls:!0})]})})})})]})}function be({moodHistory:e,insights:o,isLoading:l}){if(l)return s.jsxs("div",{className:"space-y-4",children:[s.jsx(ne,{className:"w-full h-24"}),s.jsx(ne,{className:"w-full h-24"})]});if(0===e.length)return s.jsxs(X,{children:[s.jsx(Y,{children:s.jsxs(Z,{className:"flex items-center",children:[s.jsx(a,{className:"mr-2 h-5 w-5"}),"Aguardando dados"]})}),s.jsx(ee,{children:s.jsx("p",{className:"text-muted-foreground",children:"Registre seu humor para receber insights personalizados sobre seus padrões emocionais e sugestões para melhorar seu bem-estar."})})]});const c=e=>{switch(e){case"positive":return s.jsx(n,{className:"h-5 w-5 text-green-500"});case"negative":return s.jsx(t,{className:"h-5 w-5 text-amber-500"});default:return s.jsx(r,{className:"h-5 w-5 text-blue-500"})}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(X,{children:[s.jsxs(Y,{children:[s.jsxs(Z,{className:"flex items-center text-lg",children:[s.jsx(a,{className:"mr-2 h-5 w-5"}),"Insights e Padrões"]}),s.jsxs(se,{children:["Baseado em ",e.length," registro",1!==e.length?"s":""," de humor"]})]}),s.jsx(ee,{className:"space-y-4",children:o.length>0?o.map(((e,a)=>s.jsxs("div",{className:"p-4 rounded-lg border flex items-start gap-3 \n                  "+("positive"===e.type?"border-green-200 bg-green-50 dark:bg-green-900/10 dark:border-green-900":"negative"===e.type?"border-amber-200 bg-amber-50 dark:bg-amber-900/10 dark:border-amber-900":"border-blue-200 bg-blue-50 dark:bg-blue-900/10 dark:border-blue-900"),children:[s.jsx("div",{className:"mt-1",children:c(e.type)}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:e.text}),e.recommendation&&s.jsx("p",{className:"text-sm mt-2 text-gray-600 dark:text-gray-300",children:e.recommendation})]})]},a))):s.jsx("p",{className:"text-center text-gray-500 py-4",children:"Continue registrando seu humor para receber insights personalizados."})})]}),s.jsxs(X,{children:[s.jsx(Y,{children:s.jsxs(Z,{className:"flex items-center text-lg",children:[s.jsx(r,{className:"mr-2 h-5 w-5"}),"Relação com Produtividade"]})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Seus padrões de humor podem afetar sua produtividade e foco nas tarefas. Aqui estão algumas observações baseadas nos seus registros:"}),e.length>=3?s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(i,{className:"h-4 w-4 mt-0.5 flex-shrink-0 text-primary"}),s.jsx("span",{className:"text-sm",children:"Seus níveis de energia tendem a ser maiores pela manhã, favorecendo tarefas que exigem mais concentração."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(i,{className:"h-4 w-4 mt-0.5 flex-shrink-0 text-primary"}),s.jsx("span",{className:"text-sm",children:"Quando você registra humor positivo, sua conclusão de tarefas aumenta em aproximadamente 30%."})]})]}):s.jsx("p",{className:"text-center text-gray-500 py-2",children:"Continue registrando seu humor para ver como ele afeta sua produtividade."})]})]})]})}function we({currentMood:e,moodHistory:i,isLoading:t}){const n=o();if(t)return s.jsxs("div",{className:"space-y-4",children:[s.jsx(ne,{className:"w-full h-24"}),s.jsx(ne,{className:"w-full h-24"}),s.jsx(ne,{className:"w-full h-24"})]});const h=(()=>{const t=[{title:"Meditação de 5 minutos",description:"Uma breve pausa para respirar e recalibrar sua mente",duration:"5 min",icon:s.jsx(a,{className:"h-5 w-5 text-purple-500"}),action:"Adicionar ao planner"},{title:"Exercício de alongamento",description:"Alongamentos simples para relaxar o corpo e a mente",duration:"10 min",icon:s.jsx(d,{className:"h-5 w-5 text-green-500"}),action:"Adicionar aos hábitos"},{title:"Música relaxante",description:"Playlist para acalmar a mente e melhorar o foco",duration:"15 min",icon:s.jsx(m,{className:"h-5 w-5 text-blue-500"}),action:"Ouvir agora"}];if(!e.mood_type&&0===i.length)return t;switch(e.mood_type||(i.length>0?i[0].mood_type:null)){case"anxiety":return[{title:"Respiração 4-7-8",description:"Técnica de respiração para reduzir a ansiedade rapidamente",duration:"3 min",icon:s.jsx(a,{className:"h-5 w-5 text-blue-500"}),action:"Iniciar agora"},{title:"Meditação guiada para ansiedade",description:"Meditação focada em acalmar pensamentos ansiosos",duration:"10 min",icon:s.jsx(r,{className:"h-5 w-5 text-purple-500"}),action:"Adicionar ao planner"},{title:"Caminhada consciente",description:"Caminhar prestando atenção em cada passo e na respiração",duration:"15 min",icon:s.jsx(d,{className:"h-5 w-5 text-green-500"}),action:"Adicionar aos hábitos"}];case"anger":return[{title:"Pausa para respiração profunda",description:"Respirações profundas para reduzir a tensão e a raiva",duration:"5 min",icon:s.jsx(x,{className:"h-5 w-5 text-red-500"}),action:"Iniciar agora"},{title:"Escrever seus pensamentos",description:"Registre seus pensamentos para processar emoções difíceis",duration:"10 min",icon:s.jsx(l,{className:"h-5 w-5 text-amber-500"}),action:"Adicionar ao planner"},{title:"Exercício físico intenso",description:"Libere a energia acumulada com exercícios físicos",duration:"20 min",icon:s.jsx(c,{className:"h-5 w-5 text-orange-500"}),action:"Adicionar aos hábitos"}];case"fatigue":return[{title:"Pequena pausa energizante",description:"Exercícios rápidos para aumentar a energia e o foco",duration:"5 min",icon:s.jsx(c,{className:"h-5 w-5 text-yellow-500"}),action:"Iniciar agora"},{title:"Avaliação de hábitos de sono",description:"Revise sua rotina de sono para melhorar a qualidade",duration:"10 min",icon:s.jsx(r,{className:"h-5 w-5 text-blue-500"}),action:"Ver dicas"},{title:"Caminhada ao ar livre",description:"Um pouco de ar fresco e movimento leve pode revigorar",duration:"15 min",icon:s.jsx(d,{className:"h-5 w-5 text-green-500"}),action:"Adicionar ao planner"}];case"sadness":return[{title:"Prática de gratidão",description:"Liste três coisas pelas quais você é grato hoje",duration:"5 min",icon:s.jsx(l,{className:"h-5 w-5 text-green-500"}),action:"Iniciar agora"},{title:"Conexão social",description:"Converse com um amigo ou familiar querido",duration:"15 min",icon:s.jsx(r,{className:"h-5 w-5 text-indigo-500"}),action:"Lembrar mais tarde"},{title:"Música que eleva o humor",description:"Playlist com músicas para melhorar seu ânimo",duration:"20 min",icon:s.jsx(m,{className:"h-5 w-5 text-pink-500"}),action:"Ouvir agora"}];case"vigor":return[{title:"Tarefa desafiadora",description:"Aproveite sua energia para enfrentar um desafio pendente",duration:"25 min",icon:s.jsx(c,{className:"h-5 w-5 text-amber-500"}),action:"Ver tarefas"},{title:"Planejamento estratégico",description:"Use essa energia para planejar seus próximos objetivos",duration:"15 min",icon:s.jsx(r,{className:"h-5 w-5 text-blue-500"}),action:"Adicionar ao planner"},{title:"Exercício físico intenso",description:"Potencialize seu estado de energia com atividade física",duration:"30 min",icon:s.jsx(d,{className:"h-5 w-5 text-red-500"}),action:"Adicionar aos hábitos"}];case"happiness":return[{title:"Projeto criativo",description:"Use esse estado positivo para criar algo novo",duration:"30 min",icon:s.jsx(r,{className:"h-5 w-5 text-pink-500"}),action:"Explorar ideias"},{title:"Compartilhar positividade",description:"Faça algo gentil por alguém para espalhar a alegria",duration:"10 min",icon:s.jsx(l,{className:"h-5 w-5 text-green-500"}),action:"Ver sugestões"},{title:"Registro de conquistas",description:"Documente suas vitórias recentes e celebre seu progresso",duration:"15 min",icon:s.jsx(a,{className:"h-5 w-5 text-purple-500"}),action:"Adicionar ao planner"}];default:return t}})();return s.jsx("div",{className:"space-y-4",children:s.jsxs(X,{children:[s.jsxs(Y,{children:[s.jsxs(Z,{className:"flex items-center text-lg",children:[s.jsx(r,{className:"mr-2 h-5 w-5"}),"Sugestões Personalizadas"]}),s.jsx(se,{children:e.mood_type?`Baseado no seu humor atual: ${e.mood_type}`:i.length>0?"Baseado no seu último registro de humor":"Sugestões gerais para melhorar seu bem-estar"})]}),s.jsx(ee,{className:"space-y-3",children:h.map(((e,a)=>s.jsxs("div",{className:"flex items-start p-4 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800",children:[s.jsx("div",{className:"mr-4 mt-1",children:e.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium",children:e.title}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:e.description}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("span",{className:"text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full",children:e.duration}),e.action&&s.jsx(E,{variant:"ghost",size:"sm",onClick:()=>(e=>{switch(e.action){case"Adicionar ao planner":n("/planner"),pe.success(`"${e.title}" pode ser adicionado ao seu planner`);break;case"Adicionar aos hábitos":pe.success(`"${e.title}" foi sugerido como um novo hábito`);break;case"Iniciar agora":pe.success(`Iniciando "${e.title}"`);break;default:pe.info(`Ação para "${e.title}" será implementada em breve`)}})(e),children:e.action})]})]})]},a)))})]})})}function ke(){const[a,r]=e.useState(!1),[i,t]=e.useState("daily"),[n,o]=e.useState("evening");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(h,{className:"h-5 w-5 text-gray-500"}),s.jsx("span",{className:"font-medium",children:"Ativar lembretes de humor"})]}),s.jsx(F,{checked:a,onCheckedChange:r})]}),a&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Frequência"}),s.jsxs(T,{value:i,onValueChange:t,children:[s.jsx(q,{className:"w-[180px]",children:s.jsx(_,{placeholder:"Frequência"})}),s.jsxs(I,{children:[s.jsx(V,{value:"daily",children:"Diariamente"}),s.jsx(V,{value:"weekdays",children:"Dias de semana"}),s.jsx(V,{value:"weekends",children:"Fins de semana"}),s.jsx(V,{value:"custom",children:"Personalizado"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Horário"}),s.jsxs(T,{value:n,onValueChange:o,children:[s.jsx(q,{className:"w-[180px]",children:s.jsx(_,{placeholder:"Horário"})}),s.jsxs(I,{children:[s.jsx(V,{value:"morning",children:"Manhã (08:00)"}),s.jsx(V,{value:"midday",children:"Meio-dia (12:00)"}),s.jsx(V,{value:"afternoon",children:"Tarde (15:00)"}),s.jsx(V,{value:"evening",children:"Noite (20:00)"}),s.jsx(V,{value:"custom",children:"Horário personalizado"})]})]})]})]}),s.jsxs("div",{className:"pt-2",children:[s.jsxs(E,{variant:"outline",className:"w-full",onClick:()=>{pe.success("Configurações de lembretes salvas: "+(a?"Ativado":"Desativado"))},children:[s.jsx(u,{className:"h-4 w-4 mr-2"}),"Salvar configurações"]}),s.jsx("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400 mt-2",children:"Você receberá lembretes para registrar seu humor e bem-estar."})]})]})]})}function Ce({currentMood:a,moodHistory:r,isLoading:i}){const[t,o]=e.useState([{id:"1",title:"Desafio de Gratidão",description:"Registre 3 coisas pelas quais você é grato todos os dias por uma semana",duration:"7 dias",progress:43,status:"active",icon:s.jsx(g,{className:"h-5 w-5 text-amber-500"})},{id:"2",title:"Respiração Mindful",description:"Pratique 5 minutos de respiração consciente diariamente",duration:"14 dias",progress:100,status:"completed",icon:s.jsx(p,{className:"h-5 w-5 text-green-500"})}]),[l,c]=e.useState([{id:"s1",title:"Desconexão Digital",description:"Reserve 30 minutos por dia sem dispositivos eletrônicos",duration:"10 dias",progress:0,status:"suggested",moodTarget:"anxiety",icon:s.jsx(j,{className:"h-5 w-5 text-blue-500"})},{id:"s2",title:"Caminhada Diária",description:"Faça uma caminhada leve de 15 minutos todos os dias",duration:"21 dias",progress:0,status:"suggested",moodTarget:"fatigue",icon:s.jsx(j,{className:"h-5 w-5 text-purple-500"})}]);if(i)return s.jsxs("div",{className:"space-y-4",children:[s.jsx(ne,{className:"w-full h-24"}),s.jsx(ne,{className:"w-full h-24"})]});const d=a.mood_type?l.filter((e=>!e.moodTarget||e.moodTarget===a.mood_type)):l;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(X,{children:[s.jsxs(Y,{children:[s.jsxs(Z,{className:"flex items-center text-lg",children:[s.jsx(g,{className:"mr-2 h-5 w-5"}),"Seus Desafios Ativos"]}),s.jsx(se,{children:"Desafios de bem-estar para melhorar sua rotina"})]}),s.jsx(ee,{children:t.filter((e=>"active"===e.status)).length>0?s.jsx("div",{className:"space-y-4",children:t.filter((e=>"active"===e.status)).map((e=>s.jsxs("div",{className:"border p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-1",children:e.icon}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:e.title}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:e.description}),s.jsx("div",{className:"flex items-center mt-3 text-xs text-gray-500",children:s.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full",children:e.duration})})]})]}),s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>{return s=e.id,o((e=>e.map((e=>e.id===s?{...e,status:"completed",progress:100}:e)))),void pe.success("Parabéns! Desafio concluído com sucesso!");var s},children:[s.jsx(n,{className:"h-4 w-4 mr-1"}),"Completar"]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"Progresso"}),s.jsxs("span",{children:[e.progress,"%"]})]}),s.jsx(oe,{value:e.progress,className:"h-2"})]})]},e.id)))}):s.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[s.jsx("p",{children:"Você não tem desafios ativos no momento."}),s.jsx("p",{className:"text-sm mt-2",children:"Aceite um desafio sugerido para começar!"})]})})]}),s.jsxs(X,{children:[s.jsxs(Y,{children:[s.jsxs(Z,{className:"flex items-center text-lg",children:[s.jsx(j,{className:"mr-2 h-5 w-5"}),"Desafios Sugeridos"]}),s.jsx(se,{children:"Baseado no seu histórico e humor atual"})]}),s.jsx(ee,{children:d.length>0?s.jsx("div",{className:"space-y-4",children:d.map((e=>s.jsx("div",{className:"border p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-1",children:e.icon}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:e.title}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:e.description}),s.jsx("div",{className:"flex items-center mt-3 text-xs text-gray-500",children:s.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full",children:e.duration})})]})]}),s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>(e=>{c((s=>s.filter((s=>s.id!==e.id))));const s={...e,status:"active",progress:0};o((e=>[...e,s])),pe.success(`Desafio "${e.title}" aceito!`)})(e),children:[s.jsx(N,{className:"h-4 w-4 mr-1"}),"Aceitar"]})]})},e.id)))}):s.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[s.jsx("p",{children:"Não há novos desafios sugeridos no momento."}),s.jsx("p",{className:"text-sm mt-2",children:"Continue registrando seu humor para receber sugestões personalizadas."})]})})]}),t.filter((e=>"completed"===e.status)).length>0&&s.jsxs(X,{children:[s.jsx(Y,{children:s.jsxs(Z,{className:"flex items-center text-lg",children:[s.jsx(p,{className:"mr-2 h-5 w-5"}),"Desafios Concluídos"]})}),s.jsx(ee,{children:s.jsx("div",{className:"space-y-3",children:t.filter((e=>"completed"===e.status)).map((e=>s.jsx("div",{className:"border p-3 rounded-lg bg-gray-50 dark:bg-gray-800/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{children:e.icon}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:e.title}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e.duration})]}),s.jsx("div",{className:"ml-auto",children:s.jsx("span",{className:"text-xs bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400 px-2 py-1 rounded-full",children:"Concluído"})})]})},e.id)))})})]})]})}const Se=e.forwardRef((({className:e,...a},r)=>s.jsxs(f,{ref:r,className:B("relative flex w-full touch-none select-none items-center",e),...a,children:[s.jsx(v,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(y,{className:"absolute h-full bg-primary"})}),s.jsx(b,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})));Se.displayName=f.displayName;const Ae=[{type:"anxiety",label:"Ansiedade",emoji:"😟",color:"bg-yellow-100 border-yellow-300"},{type:"anger",label:"Irritação",emoji:"😡",color:"bg-red-100 border-red-300"},{type:"fatigue",label:"Cansaço",emoji:"😴",color:"bg-blue-100 border-blue-300"},{type:"sadness",label:"Tristeza",emoji:"😢",color:"bg-indigo-100 border-indigo-300"},{type:"vigor",label:"Vigor",emoji:"💪",color:"bg-green-100 border-green-300"},{type:"happiness",label:"Alegria",emoji:"😊",color:"bg-pink-100 border-pink-300"}];function Me({currentMood:a,setCurrentMood:r,onSave:i,isLoading:t}){const[n,o]=e.useState(!1);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-3",children:Ae.map((e=>s.jsxs("button",{onClick:()=>{return s=e.type,void r({...a,mood_type:s});var s},className:"flex flex-col items-center justify-center p-4 rounded-lg border-2 transition-all \n              "+(a.mood_type===e.type?`${e.color} border-dashed`:"bg-gray-50 border-transparent hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700"),children:[s.jsx("span",{className:"text-3xl mb-2",children:e.emoji}),s.jsx("span",{className:"text-sm font-medium",children:e.label})]},e.type)))}),a.mood_type&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Intensidade"}),s.jsxs("span",{className:"text-sm font-medium",children:[a.intensity,"/10"]})]}),s.jsx(Se,{value:[a.intensity],min:1,max:10,step:1,onValueChange:e=>{r({...a,intensity:e[0]})},className:"py-4"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{variant:"outline",onClick:()=>o(!n),className:"text-sm",children:n?"Esconder nota":"Adicionar nota"}),s.jsx(E,{onClick:i,disabled:t,className:"ml-auto text-sm",children:t?"Salvando...":"Salvar humor"})]}),n&&s.jsx("div",{className:"pt-2",children:s.jsx(O,{placeholder:"Como você está se sentindo? Adicione detalhes sobre seu humor atual...",value:a.note||"",onChange:e=>{r({...a,note:e.target.value})},rows:3,className:"resize-none"})})]})]})}const De=[{name:"Físico",icon:s.jsx(k,{className:"h-4 w-4 text-red-500"}),triggers:["Cansaço","Fome","Dor","Exercício","Doença","Sono ruim","Álcool"]},{name:"Mental",icon:s.jsx(a,{className:"h-4 w-4 text-purple-500"}),triggers:["Estresse","Sobrecarga","Preocupação","Desafio","Ansiedade","Conquista","Frustração"]},{name:"Ambiente",icon:s.jsx(C,{className:"h-4 w-4 text-blue-500"}),triggers:["Clima","Barulho","Local","Notícias","Redes sociais","Trânsito","Prazos"]},{name:"Social",icon:s.jsx(S,{className:"h-4 w-4 text-amber-500"}),triggers:["Família","Amigos","Colegas","Conflitos","Reuniões","Festas","Encontros","Solidão"]},{name:"Trabalho",icon:s.jsx(A,{className:"h-4 w-4 text-indigo-500"}),triggers:["Pressão","Reuniões","Feedback","Prazos","Colegas","Liderança","Balanço"]},{name:"Hábitos",icon:s.jsx(M,{className:"h-4 w-4 text-emerald-500"}),triggers:["Alimentação","Cafeína","Exercícios","Meditação","Descanso","Hobby","Rotina"]}];function ze({selectedTriggers:e,onChange:a}){return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"O que pode ter influenciado seu humor? (opcional)"}),s.jsx("div",{className:"space-y-5",children:De.map((r=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[r.icon,s.jsx("h4",{className:"text-sm font-medium",children:r.name})]}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:r.triggers.map((r=>{const i=e.includes(r);return s.jsxs(K,{variant:i?"default":"outline",className:"cursor-pointer "+(i?"bg-primary text-primary-foreground":"bg-white hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700"),onClick:()=>(s=>{e.includes(s)?a(e.filter((e=>e!==s))):a([...e,s])})(r),children:[r,i&&s.jsx(w,{className:"ml-1 h-3 w-3"})]},r)}))})]},r.name)))}),e.length>0&&s.jsx("div",{className:"pt-2",children:s.jsx(E,{variant:"outline",size:"sm",onClick:()=>a([]),className:"text-xs",children:"Limpar seleção"})})]})}function Pe({isOpen:a,onOpenChange:r,currentMood:i,setCurrentMood:t,onSave:n,isLoading:o}){const[l,c]=e.useState("mood"),[d,m]=e.useState([]),[x,h]=e.useState(""),u=e=>{e||(c("mood"),m([]),h("")),r(e)};return s.jsx($,{open:a,onOpenChange:u,children:s.jsxs(U,{className:"w-full max-w-lg",children:[s.jsx(G,{children:s.jsx(J,{children:"Check-in de Humor"})}),s.jsx(Q,{children:"mood"===l?s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Como você está se sentindo hoje?"}),s.jsx(Me,{currentMood:i,setCurrentMood:t,onSave:()=>Promise.resolve(),isLoading:o}),s.jsx(E,{onClick:()=>{i.mood_type&&c("triggers")},disabled:!i.mood_type||o,className:"w-full",children:"Continuar"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(ze,{selectedTriggers:d,onChange:m}),s.jsxs("div",{className:"pt-4",children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Adicionar nota (opcional)"}),s.jsx(O,{placeholder:"Como você está se sentindo? Adicione detalhes sobre seu humor atual...",value:x,onChange:e=>h(e.target.value),rows:3,className:"resize-none"})]})]})}),"triggers"===l&&s.jsxs(W,{children:[s.jsx(E,{variant:"outline",onClick:()=>c("mood"),children:"Voltar"}),s.jsx(E,{onClick:async()=>{t({...i,note:x||null}),await n(d),u(!1)},disabled:o,children:o?"Salvando...":"Salvar"})]})]})})}const Le=()=>{const{currentMood:a,setCurrentMood:r,moodHistory:i,saveMood:t,isLoading:n,moodInsights:o,error:l}=ve(),[c,m]=e.useState(!1),[x,h]=e.useState("insights"),u=D();e.useEffect((()=>{const e=new URLSearchParams(u.search).get("tab");e&&["insights","history","suggestions","challenges"].includes(e)&&h(e)}),[u.search]);return s.jsxs("div",{className:"container max-w-4xl mx-auto px-4 py-8",children:[s.jsx(z,{children:s.jsx("title",{children:"Mente | Bem-estar e Humor"})}),s.jsxs("header",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-primary mb-2 mx-[28px] text-center",children:"Bem-estar Mental"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center",children:"Monitore seu humor, entenda padrões emocionais e receba sugestões personalizadas"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-5 text-center",children:[s.jsx("h2",{className:"text-lg font-medium mb-2",children:"Registre como você está se sentindo"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:"Registre seu humor e identifique padrões emocionais."}),s.jsxs(E,{onClick:()=>m(!0),className:"mx-auto px-3 py-1.5 h-9 rounded-md flex items-center gap-1.5 shadow-sm hover:shadow transition-all",size:"sm",children:[s.jsx(P,{className:"h-3.5 w-3.5"}),s.jsx("span",{children:"Fazer Check-in"})]})]}),s.jsx(Pe,{isOpen:c,onOpenChange:m,currentMood:a,setCurrentMood:r,onSave:async e=>{await t(e)},isLoading:n}),s.jsxs(ae,{value:x,onValueChange:h,className:"w-full",children:[s.jsxs(re,{className:"grid grid-cols-4 mb-4",children:[s.jsxs(ie,{value:"insights",className:"flex items-center gap-2",children:[s.jsx(L,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Insights"})]}),s.jsxs(ie,{value:"history",className:"flex items-center gap-2",children:[s.jsx(R,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Histórico"})]}),s.jsxs(ie,{value:"suggestions",className:"flex items-center gap-2",id:"favorites-trigger",children:[s.jsx(d,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Sugestões"})]}),s.jsxs(ie,{value:"challenges",className:"flex items-center gap-2",children:[s.jsx(H,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Desafios"})]})]}),s.jsx(te,{value:"insights",className:"space-y-6",children:s.jsx(be,{moodHistory:i,insights:o,isLoading:n})}),s.jsx(te,{value:"history",className:"space-y-6",children:s.jsx(ye,{moodHistory:i,isLoading:n})}),s.jsx(te,{value:"suggestions",className:"space-y-6",children:s.jsx(we,{currentMood:a,moodHistory:i,isLoading:n})}),s.jsx(te,{value:"challenges",className:"space-y-6",children:s.jsx(Ce,{currentMood:a,moodHistory:i,isLoading:n})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-5",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Lembretes de Bem-estar"}),s.jsx(ke,{})]})]})]})};export{Le as default};
